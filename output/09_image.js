function getNewSourceImage(e){busy=!0,sourceImage=loadImage("../../images/"+e,function(){console.log(e+" loaded"),manipulateImage()})}function manipulateImage(){sourceImage.resize(200,0);var e=sourceImage.width,a=sourceImage.height/e,t=parseInt(State.width),r=parseInt(State.width*a),m=t/e,g=t/State.gridCols;State.gridCols;manipulatedImage=createGraphics(t,r),manipulatedImage.noStroke(),manipulatedImage.fill(State.Colors.image);for(var s=0;s<t;s+=g)for(var i=0;i<r;i+=g)var n=sourceImage.get(parseInt(s/m),parseInt(i/m)),o=brightness(n);for(s=0;s<t;s+=g){0;for(i=0;i<r;i+=g){n=sourceImage.get(parseInt(s/m),parseInt(i/m)),o=brightness(n);var I=map(o,100,0,0,State.maxSize);manipulatedImage.push(),manipulatedImage.translate(s,i),manipulatedImage.rect(0,0,I,I),manipulatedImage.pop()}}busy=!1}